<div fxLayout="column">
    <div fxFlex="20" class="close-div-style">
        <mat-icon class="fa fa-times close-icon" (click)="closeDialog()"></mat-icon>
    </div>
    <div fxFex="80" class="main-div-style">
        <form [formGroup]="addIssueForm" fxLayout="column">
            <div fxLayout="row" fxLayoutGap="20px">
                <mat-form-field fxFlex="40">
                    <mat-label>Issue Type</mat-label>
                    <mat-select formControlName="issueType" required>
                        <mat-select-trigger>
                            <mat-icon [ngClass]="addIssueForm.value.issueType.issueTypeIcon"></mat-icon>
                            {{ addIssueForm.value.issueType.issueType }}
                        </mat-select-trigger>
                        <mat-option *ngFor="let issueType of issueTypes" [value]="issueType">
                            <mat-icon [ngClass]="issueType.issueTypeIcon"></mat-icon>
                            {{ issueType.issueType }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field fxFlex="40">
                    <mat-label>Priority</mat-label>
                    <mat-select formControlName="issuePriority" required>
                        <mat-select-trigger>
                            <mat-icon [ngClass]="addIssueForm.value.issuePriority.issuePriorityIcon"></mat-icon>
                            {{ addIssueForm.value.issuePriority.issuePriority }}
                        </mat-select-trigger>
                        <mat-option *ngFor="let issuePriority of issuePriorities" [value]="issuePriority">
                            <mat-icon [ngClass]="issuePriority.issuePriorityIcon"></mat-icon>
                            {{ issuePriority.issuePriority }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field fxFlex="80">
                    <mat-label>Issue Summary</mat-label>
                    <input matInput formControlName="issueSummary" required>
                    <mat-error *ngIf="addIssueForm.get('issueSummary').invalid">Issue summary required</mat-error>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field fxFlex="80">
                    <mat-label>Issue Description</mat-label>
                    <textarea matInput formControlName="issueDescription"></textarea>
                </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="20px">
                <mat-form-field fxFlex="40">
                    <mat-label>Reporter</mat-label>
                    <mat-select formControlName="issueReporter" required>
                        <mat-option *ngFor="let user of users" [value]="user.username">
                            {{ user.name ? user.name : user.username }}</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field fxFlex="40">
                    <mat-label>Assignee</mat-label>
                    <mat-select formControlName="issueAssignee" required>
                        <mat-option *ngFor="let user of users" [value]="user.username">
                            {{ user.name ? user.name : user.username }}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div fxLayoutAlign="center center">
                <button mat-button fxFlex="40" class="button-style" (click)="addTask()"
                    [disabled]="addIssueForm.invalid">Create</button>
            </div>
        </form>
    </div>
</div>